<!DOCTYPE html>
<html>
<head>
<title>Petras smart home</title>
</head>
<body>

<h1>Petras smarta hus</h1>
<p>Dr√§neringspumpsdiagram</p>
<canvas id="myCanvas" width="1000" height="600" style="border:1px solid #000000;"></canvas>
<p>Temperaturer</p>


<script>	
var c = document.getElementById("myCanvas");
var ctx = c.getContext("2d");

var XPixels = 800;
var YPixels = 700;	
var xStart = 50;
var yStart = 650;

function Xwidth(measurements) {
	len = measurements.length;
	
	return measurements[len-1].x - measurements[0].x;
}

var measurements = [
{x:0,  y:100, Sleep:true},
{x:10, y:200, Sleep:true},
{x:20, y:300, Sleep:true},
{x:30, y:250, Sleep:false},
{x:40, y:220, Sleep:true},
{x:70, y:225, Sleep:false},
{x:75, y:230, Sleep:false},
];

var Ypos = 400;
var xFactor = XPixels / Xwidth(measurements);

var x1, y1, x2, y2, n;
ctx.moveTo(xStart, yStart);
x1 = xStart + Math.round(measurements[0].x * xFactor);
y1 = yStart - measurements[0].y;
for(n=1; n<measurements.length; n++)
{
  ctx.beginPath();
  ctx.moveTo(x1,yStart);
  ctx.lineTo(x1,y1);
  x2 = xStart + Math.round(measurements[n].x * xFactor);
  y2 = yStart - measurements[n].y;
  if (measurements[n].Sleep == true) {
    ctx.fillStyle = "red";
  } else {
    ctx.fillStyle = "blue";
  }  
  ctx.lineStyle = "black";
  ctx.lineTo(x2, y2);
  ctx.lineTo(x2, yStart);  
  ctx.lineTo(x1, yStart);  
  ctx.fill();
  ctx.stroke();

  x1 = x2;
  y1 = y2;
}
</script>
</body>
</html>
